{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Santi\\\\Desktop\\\\proyectos\\\\bendahan\\\\bendahan\\\\client\\\\src\\\\components\\\\calendar\\\\DateCalendar.jsx\",\n  _s = $RefreshSig$();\nimport * as React from \"react\";\nimport dayjs from \"dayjs\";\nimport Badge from \"@mui/material/Badge\";\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport { PickersDay } from \"@mui/x-date-pickers/PickersDay\";\nimport { DateCalendar } from \"@mui/x-date-pickers/DateCalendar\";\nimport { DayCalendarSkeleton } from \"@mui/x-date-pickers/DayCalendarSkeleton\";\nimport \"../calendar/styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getRandomNumber(min, max) {\n  return Math.round(Math.random() * (max - min) + min);\n}\n\n/**\r\n * Mimic fetch with abort controller https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort\r\n * âš ï¸ No IE11 support\r\n */\nfunction fakeFetch(date, {\n  signal\n}) {\n  return new Promise((resolve, reject) => {\n    const timeout = setTimeout(() => {\n      const daysInMonth = date.daysInMonth();\n      const daysToHighlight = [1, 2, 3].map(() => getRandomNumber(1, daysInMonth));\n      resolve({\n        daysToHighlight\n      });\n    }, 500);\n    signal.onabort = () => {\n      clearTimeout(timeout);\n      reject(new DOMException(\"aborted\", \"AbortError\"));\n    };\n  });\n}\nconst initialValue = dayjs();\nfunction ServerDay(props) {\n  const {\n    highlightedDays = [],\n    day,\n    outsideCurrentMonth,\n    ...other\n  } = props;\n  const isSelected = !props.outsideCurrentMonth && highlightedDays.indexOf(props.day.date()) >= 0;\n  return /*#__PURE__*/_jsxDEV(Badge, {\n    overlap: \"circular\",\n    badgeContent: isSelected ? \"ðŸŒš\" : undefined,\n    children: /*#__PURE__*/_jsxDEV(PickersDay, {\n      ...other,\n      outsideCurrentMonth: outsideCurrentMonth,\n      day: day\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, props.day.toString(), false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_c = ServerDay;\nexport default function DateCalendarServerRequest() {\n  _s();\n  const requestAbortController = React.useRef(null);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [highlightedDays, setHighlightedDays] = React.useState([1, 2, 15]);\n  const fetchHighlightedDays = date => {\n    const controller = new AbortController();\n    fakeFetch(date, {\n      signal: controller.signal\n    }).then(({\n      daysToHighlight\n    }) => {\n      setHighlightedDays(daysToHighlight);\n      setIsLoading(false);\n    }).catch(error => {\n      // ignore the error if it's caused by `controller.abort`\n      if (error.name !== \"AbortError\") {\n        throw error;\n      }\n    });\n    requestAbortController.current = controller;\n  };\n  React.useEffect(() => {\n    fetchHighlightedDays(initialValue);\n    // abort request on unmount\n    return () => {\n      var _requestAbortControll;\n      return (_requestAbortControll = requestAbortController.current) === null || _requestAbortControll === void 0 ? void 0 : _requestAbortControll.abort();\n    };\n  }, []);\n  const handleMonthChange = date => {\n    if (requestAbortController.current) {\n      // make sure that you are aborting useless requests\n      // because it is possible to switch between months pretty quickly\n      requestAbortController.current.abort();\n    }\n    setIsLoading(true);\n    setHighlightedDays([]);\n    fetchHighlightedDays(date);\n  };\n  return /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n    dateAdapter: AdapterDayjs,\n    children: /*#__PURE__*/_jsxDEV(DateCalendar, {\n      className: \"custom-date-calendar\",\n      defaultValue: initialValue,\n      loading: isLoading,\n      onMonthChange: handleMonthChange,\n      renderLoading: () => /*#__PURE__*/_jsxDEV(DayCalendarSkeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 30\n      }, this),\n      slots: {\n        day: ServerDay\n      },\n      slotProps: {\n        day: {\n          highlightedDays\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n_s(DateCalendarServerRequest, \"BsJxoOFsXfP/8xdwUkdVA1dSwV0=\");\n_c2 = DateCalendarServerRequest;\nvar _c, _c2;\n$RefreshReg$(_c, \"ServerDay\");\n$RefreshReg$(_c2, \"DateCalendarServerRequest\");","map":{"version":3,"names":["React","dayjs","Badge","AdapterDayjs","LocalizationProvider","PickersDay","DateCalendar","DayCalendarSkeleton","jsxDEV","_jsxDEV","getRandomNumber","min","max","Math","round","random","fakeFetch","date","signal","Promise","resolve","reject","timeout","setTimeout","daysInMonth","daysToHighlight","map","onabort","clearTimeout","DOMException","initialValue","ServerDay","props","highlightedDays","day","outsideCurrentMonth","other","isSelected","indexOf","overlap","badgeContent","undefined","children","fileName","_jsxFileName","lineNumber","columnNumber","toString","_c","DateCalendarServerRequest","_s","requestAbortController","useRef","isLoading","setIsLoading","useState","setHighlightedDays","fetchHighlightedDays","controller","AbortController","then","catch","error","name","current","useEffect","_requestAbortControll","abort","handleMonthChange","dateAdapter","className","defaultValue","loading","onMonthChange","renderLoading","slots","slotProps","_c2","$RefreshReg$"],"sources":["C:/Users/Santi/Desktop/proyectos/bendahan/bendahan/client/src/components/calendar/DateCalendar.jsx"],"sourcesContent":["import * as React from \"react\";\r\nimport dayjs from \"dayjs\";\r\nimport Badge from \"@mui/material/Badge\";\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport { PickersDay } from \"@mui/x-date-pickers/PickersDay\";\r\nimport { DateCalendar } from \"@mui/x-date-pickers/DateCalendar\";\r\nimport { DayCalendarSkeleton } from \"@mui/x-date-pickers/DayCalendarSkeleton\";\r\nimport \"../calendar/styles.css\";\r\n\r\nfunction getRandomNumber(min, max) {\r\n  return Math.round(Math.random() * (max - min) + min);\r\n}\r\n\r\n/**\r\n * Mimic fetch with abort controller https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort\r\n * âš ï¸ No IE11 support\r\n */\r\nfunction fakeFetch(date, { signal }) {\r\n  return new Promise((resolve, reject) => {\r\n    const timeout = setTimeout(() => {\r\n      const daysInMonth = date.daysInMonth();\r\n      const daysToHighlight = [1, 2, 3].map(() =>\r\n        getRandomNumber(1, daysInMonth)\r\n      );\r\n\r\n      resolve({ daysToHighlight });\r\n    }, 500);\r\n\r\n    signal.onabort = () => {\r\n      clearTimeout(timeout);\r\n      reject(new DOMException(\"aborted\", \"AbortError\"));\r\n    };\r\n  });\r\n}\r\n\r\nconst initialValue = dayjs();\r\n\r\nfunction ServerDay(props) {\r\n  const { highlightedDays = [], day, outsideCurrentMonth, ...other } = props;\r\n\r\n  const isSelected =\r\n    !props.outsideCurrentMonth &&\r\n    highlightedDays.indexOf(props.day.date()) >= 0;\r\n\r\n  return (\r\n    <Badge\r\n      key={props.day.toString()}\r\n      overlap=\"circular\"\r\n      badgeContent={isSelected ? \"ðŸŒš\" : undefined}>\r\n      <PickersDay\r\n        {...other}\r\n        outsideCurrentMonth={outsideCurrentMonth}\r\n        day={day}\r\n      />\r\n    </Badge>\r\n  );\r\n}\r\n\r\nexport default function DateCalendarServerRequest() {\r\n  const requestAbortController = React.useRef(null);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [highlightedDays, setHighlightedDays] = React.useState([1, 2, 15]);\r\n\r\n  const fetchHighlightedDays = (date) => {\r\n    const controller = new AbortController();\r\n    fakeFetch(date, {\r\n      signal: controller.signal,\r\n    })\r\n      .then(({ daysToHighlight }) => {\r\n        setHighlightedDays(daysToHighlight);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        // ignore the error if it's caused by `controller.abort`\r\n        if (error.name !== \"AbortError\") {\r\n          throw error;\r\n        }\r\n      });\r\n\r\n    requestAbortController.current = controller;\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    fetchHighlightedDays(initialValue);\r\n    // abort request on unmount\r\n    return () => requestAbortController.current?.abort();\r\n  }, []);\r\n\r\n  const handleMonthChange = (date) => {\r\n    if (requestAbortController.current) {\r\n      // make sure that you are aborting useless requests\r\n      // because it is possible to switch between months pretty quickly\r\n      requestAbortController.current.abort();\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setHighlightedDays([]);\r\n    fetchHighlightedDays(date);\r\n  };\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n      <DateCalendar className=\"custom-date-calendar\"\r\n        defaultValue={initialValue}\r\n        loading={isLoading}\r\n        onMonthChange={handleMonthChange}\r\n        renderLoading={() => <DayCalendarSkeleton />}\r\n        slots={{\r\n          day: ServerDay,\r\n        }}\r\n        slotProps={{\r\n          day: {\r\n            highlightedDays,\r\n          },\r\n        }}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}